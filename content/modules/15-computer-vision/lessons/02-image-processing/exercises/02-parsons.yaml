type: parsons
id: "02-image-processing-parsons-01"
prompt: "Arrange these lines to create a function that applies a 3x3 convolution kernel to a grayscale image (with zero-padding)."
blocks:
  - "import numpy as np"
  - "def convolve(image, kernel):"
  - "    h, w = image.shape"
  - "    padded = np.pad(image.astype(float), 1, mode='constant')"
  - "    output = np.zeros((h, w))"
  - "    for i in range(h):"
  - "        for j in range(w):"
  - "            region = padded[i:i+3, j:j+3]"
  - "            output[i, j] = np.sum(region * kernel)"
  - "    return output"
distractors:
  - "            region = image[i:i+3, j:j+3]"
  - "    padded = np.pad(image, 0, mode='constant')"
solution_order: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
hints:
  - "Padding by 1 pixel ensures the output has the same size as the input."
  - "Extract the region from the padded image, not the original."
concept_tags:
  - convolution
  - filters
