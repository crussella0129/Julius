type: trace
id: "02-unittest-pytest-trace-01"
prompt: "Trace through this code and predict what will be printed."
code: |
  def fizzbuzz(n):
      if n % 15 == 0:
          return "FizzBuzz"
      elif n % 3 == 0:
          return "Fizz"
      elif n % 5 == 0:
          return "Buzz"
      return str(n)

  test_cases = [(1, "1"), (3, "Fizz"), (5, "Buzz"), (15, "FizzBuzz")]
  passed = 0

  for value, expected in test_cases:
      result = fizzbuzz(value)
      if result == expected:
          passed += 1
      else:
          print(f"FAIL: fizzbuzz({value}) = {result}, expected {expected}")

  print(f"{passed}/{len(test_cases)} tests passed")
steps:
  - line: 1
    variables: {}
    output: ""
    explanation: "Define the fizzbuzz function."
  - line: 10
    variables: { "test_cases": "[(1, '1'), (3, 'Fizz'), (5, 'Buzz'), (15, 'FizzBuzz')]" }
    output: ""
    explanation: "Define 4 test cases as (input, expected) pairs."
  - line: 13
    variables: { "value": "1", "expected": "'1'", "result": "'1'" }
    output: ""
    explanation: "fizzbuzz(1): 1 is not divisible by 3 or 5, returns '1'. Matches expected. passed = 1."
  - line: 13
    variables: { "value": "3", "expected": "'Fizz'", "result": "'Fizz'" }
    output: ""
    explanation: "fizzbuzz(3): 3 % 3 == 0, returns 'Fizz'. Matches. passed = 2."
  - line: 13
    variables: { "value": "5", "expected": "'Buzz'", "result": "'Buzz'" }
    output: ""
    explanation: "fizzbuzz(5): 5 % 5 == 0, returns 'Buzz'. Matches. passed = 3."
  - line: 13
    variables: { "value": "15", "expected": "'FizzBuzz'", "result": "'FizzBuzz'" }
    output: ""
    explanation: "fizzbuzz(15): 15 % 15 == 0, returns 'FizzBuzz'. Matches. passed = 4."
  - line: 19
    variables: { "passed": "4" }
    output: "4/4 tests passed"
    explanation: "All 4 tests passed."
expected_output: |
  4/4 tests passed
hints:
  - "Check divisibility by 15 first (both 3 and 5)."
  - "All test cases pass, so no FAIL lines are printed."
concept_tags:
  - pytest-basics
  - assert-introspection
